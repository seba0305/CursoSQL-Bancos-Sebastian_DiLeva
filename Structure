CREATE DATABASE TRANSACCIONES_BANCO;

USE TRANSACCIONES_BANCO;

CREATE TABLE Transacciones (
	Nro_Movimiento	INT AUTO_INCREMENT NOT NULL UNIQUE
,   Fecha	DATE NOT NULL
,	Importe	DECIMAL(12,2) NOT NULL
,	Medio_Pago	INT	NOT NULL
,	Codigo_Banco	INT	NOT NULL
,	Codigo 	INT NOT NULL
);

CREATE TABLE Proveedores (
	Nro_Proveedor	INT NOT NULL PRIMARY KEY AUTO_INCREMENT
,	Raz_soc_Prov	VARCHAR(50)	NOT NULL
,	Correo	VARCHAR(50)
);

CREATE TABLE Clientes (
	Nro_Cliente	INT NOT NULL PRIMARY KEY	AUTO_INCREMENT
,	Raz_soc_Cliente	VARCHAR(50)	NOT NULL
,	Correo	VARCHAR(50)
);

CREATE TABLE Empleados (
	Legajo	INT NOT NULL PRIMARY KEY AUTO_INCREMENT
,	Nombre_Apellido	VARCHAR(50) NOT NULL
,	Antiguedad INT
,	Sector VARCHAR(50)
,	Correo 	VARCHAR(50)
);

CREATE TABLE Bancos (
	Cod_Banco	INT NOT NULL	PRIMARY KEY
,	Nombre_Banco	VARCHAR(50)	NOT NULL
,	Oficial	VARCHAR (50)
);

CREATE TABLE Medios_de_Pago (
	Codigo_Pago	INT NOT NULL PRIMARY KEY AUTO_INCREMENT
,	MEdio_Pago	VARCHAR(50)	NOT NULL
);

CREATE TABLE Facturas(
	Factura	INT NOT NULL PRIMARY KEY
,	Codigo	INT NOT NULL
,	Importe_factura	DECIMAL(12,2) NOT NULL
,	Producto	INT NOT NULL
,	Cantidad	INT NOT NULL
);

ALTER TABLE transacciones
ADD CONSTRAINT FK_TRANSACCIONES_MEDIODEPAGO
FOREIGN KEY (Medio_Pago) REFERENCES medios_de_pago(Codigo_Pago)
;

ALTER TABLE transacciones
ADD CONSTRAINT FK_TRANSACCIONES_BANCOS
FOREIGN KEY (Codigo_Banco) REFERENCES bancos(Cod_Banco)
;

ALTER TABLE transacciones
ADD CONSTRAINT FK_TRANSACCIONES_CODIGO
FOREIGN KEY (Codigo) REFERENCES proveedores(Nro_Proveedor)
;

ALTER TABLE transacciones
ADD CONSTRAINT FK_TRANSACCIONES_CODIGO_Cliente
FOREIGN KEY (Codigo) REFERENCES clientes(Nro_cliente)
;

ALTER TABLE facturas
ADD CONSTRAINT FK_FACTURAS_CODIGO_PROVEEDORES
FOREIGN KEY (Codigo) REFERENCES proveedores(nro_proveedor)
;

ALTER TABLE facturas
ADD CONSTRAINT FK_FACTURAS_CODIGO_CLIENTES
FOREIGN KEY (Codigo) REFERENCES clientes(nro_cliente)
;
